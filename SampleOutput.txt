2020-11-24 16:07:26.000000000 +0000 demo.efk.nginx: {"source":"stdout","log":"172.24.0.1 - - [24/Nov/2020:16:07:26 +0000] \"POST /api/ui_metric/report HTTP/1.1\" 499 0 \"http://localhost/app/discover\" \"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/87.0.4280.67 Safari/537.36\" \"-\"","container_id":"21ba9b0a908ca922c110feb4618b5682823441dea4335459f9feb6a35439e8b4","container_name":"/restrike_nginx_1"}
2020-11-24 16:07:26.000000000 +0000 demo.efk.nginx: {"container_id":"21ba9b0a908ca922c110feb4618b5682823441dea4335459f9feb6a35439e8b4","container_name":"/restrike_nginx_1","source":"stdout","log":"172.24.0.1 - - [24/Nov/2020:16:07:26 +0000] \"GET /bundles/app/core/bootstrap.js HTTP/1.1\" 304 0 \"http://localhost/app/discover\" \"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/87.0.4280.67 Safari/537.36\" \"-\""}
2020-11-24 16:07:26.000000000 +0000 demo.efk.kibana: {"container_id":"1fc37a8731a4430aa353e26d19365fedaf7a0bf563e328bb262265f166972ecd","container_name":"/restrike_kibana_1","source":"stdout","log":"{\"type\":\"response\",\"@timestamp\":\"2020-11-24T16:07:26Z\",\"tags\":[\"api\"],\"pid\":7,\"method\":\"get\",\"statusCode\":304,\"req\":{\"url\":\"/bundles/app/core/bootstrap.js\",\"method\":\"get\",\"headers\":{\"host\":\"localhost\",\"x-real-ip\":\"172.24.0.1\",\"x-forwarded-for\":\"172.24.0.1\",\"x-forwarded-proto\":\"http\",\"user-agent\":\"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/87.0.4280.67 Safari/537.36\",\"accept\":\"*/*\",\"sec-fetch-site\":\"same-origin\",\"sec-fetch-mode\":\"no-cors\",\"sec-fetch-dest\":\"script\",\"referer\":\"http://localhost/app/discover\",\"accept-encoding\":\"gzip, deflate, br\",\"accept-language\":\"en-US,en;q=0.9\",\"if-none-match\":\"\\\"f7be30fa3bc5adb1240c6bea8f75ffd0145b008d-gzip\\\"\"},\"remoteAddress\":\"172.24.0.5\",\"userAgent\":\"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/87.0.4280.67 Safari/537.36\",\"referer\":\"http://localhost/app/discover\"},\"res\":{\"statusCode\":304,\"responseTime\":40,\"contentLength\":9},\"message\":\"GET /bundles/app/core/bootstrap.js 304 40ms - 9.0B\"}"}
2020-11-24 16:26:45.000000000 +0000 demo.efk.nginx.access: {"remote":"172.24.0.1","host":"-","user":"-","method":"GET","path":"/34038/bundles/plugin/kibanaLegacy/af7ae505a9eed503f8b8e6982036873e.woff2","code":"200","size":"77160","referer":"http://localhost/app/discover","agent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/87.0.4280.67 Safari/537.36","http_x_forwarded_for":"-"}


expression /^(?<remote>[^ ]*) (?<host>[^ ]*) (?<user>[^ ]*) \[(?<time>[^\]]*)\] "(?<method>\S+)(?: +(?<path>[^\"]*?)(?: +\S*)?)?" (?<code>[^ ]*) (?<size>[^ ]*)(?: "(?<referer>[^\"]*)" "(?<agent>[^\"]*)"(?:\s+(?<http_x_forwarded_for>[^ ]+))?)?$/
time_format %d/%b/%Y:%H:%M:%S %z